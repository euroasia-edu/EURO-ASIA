--- 
const { lang = "ro" } = Astro.props;

const footerNav = {
  ro: [
    { text: "Servicii", href: "/ro/services" },
    { text: "Galerie", href: "/ro/gallery" },
    { text: "Contact", href: "/ro/contact" }
  ],
  en: [
    { text: "Services", href: "/en/services" },
    { text: "Gallery", href: "/en/gallery" },
    { text: "Contact", href: "/en/contact" }
  ]
};

function handleLangChange(event) {
  const newLang = event.target.value;
  // pÄƒstrÄƒm partea de path dupÄƒ limba curentÄƒ
  const pathParts = window.location.pathname.split('/');
  if (['ro', 'en'].includes(pathParts[1])) {
    pathParts[1] = newLang; // Ã®nlocuim limba
  } else {
    pathParts.unshift('', newLang); // dacÄƒ nu e limba Ã®n URL, adÄƒugÄƒm la Ã®nceput
  }
  const newPath = pathParts.join('/') || '/';
  window.location.href = newPath;
}
---
<footer class="site-footer">
  <div class="footer-container">
    <div class="footer-left">
      <a href={`/${lang}`}>
        <img src="/logo.png" alt="EURO ASIA EDUCATION" class="footer-logo-desktop" />
        <img src="/favicon/android-chrome-192x192.png" alt="EURO ASIA EDUCATION" class="footer-logo-mobile" />
      </a>
    </div>

    <div class="footer-right">
      <label htmlFor="language-select">ğŸŒ</label>
      <select
        id="language-select"
        onChange={handleLangChange}
        value={lang}
      >
        <option value="ro">RO</option>
        <option value="en">EN</option>
      </select>
    </div>
  </div>

  <nav class="footer-center">
    {footerNav[lang].map(link => (
      <a href={link.href}>{link.text}</a>
    ))}
  </nav>

  <div class="footer-policy-wrapper">
    <a href={`/${lang}/privacy`} class="footer-policy">Privacy Policy</a>
  </div>

  <div class="footer-copy">
    &copy; {new Date().getFullYear()} EURO ASIA EDUCATION. Toate drepturile rezervate.
  </div>
</footer>
